<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Daily Dose of BCA</title>

  <!-- Favicons -->
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <meta name="theme-color" content="#0f172a">

  <!-- Tailwind (utility) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script>pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';</script>

  <style>
    :root{--bg:#0b1220;--card:#071025;--muted:#9fb0c8;--accent:#38bdf8}
    html,body{height:100%}
    body{font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;background:linear-gradient(180deg,var(--bg) 0%, #071026 100%);color:#e6eef8;margin:0;-webkit-font-smoothing:antialiased}

    /* Mobile-first, cozy card layout */
    .container{max-width:980px;margin:0 auto;padding:0 16px}
    header{position:sticky;top:0;background:rgba(6,10,18,0.55);backdrop-filter:blur(8px);border-bottom:1px solid rgba(255,255,255,0.03);z-index:40}
    .header-inner{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 0}

    .brand{display:flex;align-items:center;gap:12px}
    .logo-img{width:44px;height:44px;border-radius:10px;object-fit:cover;box-shadow:0 6px 18px rgba(2,6,23,0.6)}
    .brand-title{line-height:1}
    .brand-title h1{font-size:16px;margin:0;font-weight:800}
    .brand-title p{margin:0;font-size:12px;color:var(--muted)}

    /* Primary nav visible, wrapped on small screens */
    nav.primary{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .nav-item{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:10px;background:rgba(255,255,255,0.02);color:var(--muted);text-decoration:none;font-weight:700;font-size:13px}
    .nav-item:hover{background:rgba(56,189,248,0.06);color:#eaf6ff}
    .nav-cta{background:linear-gradient(90deg,var(--accent),#2563eb);color:white;border:none}

    main{padding:18px 0 64px}
    .hero{padding:18px 0;text-align:center}
    .hero h2{font-size:clamp(20px,6vw,36px);margin:0 0 6px 0;font-weight:800;background:linear-gradient(90deg,#fff,#aee8ff,#38bdf8);-webkit-background-clip:text;background-clip:text;color:transparent}
    .hero p{margin:0;color:var(--muted);max-width:46ch;margin-left:auto;margin-right:auto}

    /* Card grid: single column mobile, two on tablet, four on large */
    .grid{display:grid;grid-template-columns:1fr;gap:12px;margin-top:14px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.015));border:1px solid rgba(255,255,255,0.04);padding:14px;border-radius:14px;display:flex;flex-direction:column;gap:8px}
    .card .meta{display:flex;align-items:center;gap:12px}
    .card .meta .icon{width:44px;height:44px;border-radius:10px;display:grid;place-items:center;background:rgba(56,189,248,0.06)}
    .card h3{margin:0;font-size:16px}
    .card p{margin:0;color:var(--muted);font-size:13px}
    .card a.visit{margin-top:10px;align-self:flex-start;padding:8px 12px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--accent);font-weight:700;text-decoration:none}

    @media(min-width:720px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media(min-width:1100px){.grid{grid-template-columns:repeat(4,1fr)}}

    /* Companion card ‚Äî compact on mobile */
    .companion{margin-top:16px;border-radius:14px;padding:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04)}
    .companion .top{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .companion .controls{display:flex;gap:8px}
    .quick-actions{display:grid;grid-template-columns:1fr;gap:8px;margin-top:12px}
    @media(min-width:640px){.quick-actions{grid-template-columns:repeat(3,1fr)}}

    /* chat */
    .chat-area{display:flex;flex-direction:column;gap:8px;margin-top:12px}
    .messages{max-height:44vh;overflow:auto;display:flex;flex-direction:column;gap:8px;padding:8px}
    .msg{padding:10px 12px;border-radius:12px;max-width:86%}
    .msg.ai{background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03)}
    .msg.user{background:linear-gradient(90deg,var(--accent),#2563eb);color:white;align-self:flex-end}

    footer{margin-top:18px;padding:20px 0;color:var(--muted);text-align:center;font-size:13px}

    /* small helpers */
    .muted{color:var(--muted)}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
</head>
<body>
  <div class="container">
    <!-- Header with always-visible nav -->
    <header>
      <div class="header-inner">
        <!-- Left: logo and title stacked on mobile for clarity -->
        <div style="display:flex;align-items:center;gap:12px;min-width:0;">
          <img src="mylogo.jpg" alt="Daily Dose of BCA" class="logo-img" decoding="async" style="width:48px;height:48px;border-radius:12px;" />
          <div class="brand-title" style="display:flex;flex-direction:column;min-width:0;">
            <h1 style="font-size:15px;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">Daily Dose of <span style="color:var(--accent)">BCA</span></h1>
            <p class="muted" style="font-size:12px;margin-top:2px;">Notes ¬∑ Revision ¬∑ Companion</p>
          </div>
        </div>

        <!-- Right: clear, evenly spaced nav ‚Äî wraps below on very small screens -->
        <nav class="primary" aria-label="Primary navigation" style="gap:10px;display:flex;align-items:center;justify-content:flex-end;flex:1">
          <div style="display:flex;gap:8px;align-items:center;justify-content:flex-end;flex-wrap:wrap;width:100%;">
            <a class="nav-item" href="4assign.html" style="flex-shrink:0;padding:10px 12px;border-radius:12px;">üìÇ Assignments</a>
            <a class="nav-item" href="4record.html" style="flex-shrink:0;padding:10px 12px;border-radius:12px;">üìù Record</a>
            <a class="nav-item" href="python.html" style="flex-shrink:0;padding:10px 12px;border-radius:12px;">üêç Python</a>
            <a class="nav-item" href="os.html" style="flex-shrink:0;padding:10px 12px;border-radius:12px;">üíΩ OS</a>
            <a class="nav-item nav-cta" href="exclusive.html" style="flex-shrink:0;padding:10px 14px;border-radius:12px;">‚≠ê Premium</a>
          </div>
        </nav>
      </div>
    </header>

    <main>
      <section class="hero" aria-labelledby="hero-title">
        <h2 id="hero-title">Master your subjects ‚Äî clearly and cozy.</h2>
        <p>Quick notes, short quizzes and small study plans tuned for phone use. Tap any card to open detailed notes.</p>
      </section>

      <section class="grid" aria-label="Subjects">
        <!-- repeatable cards -->
        <article class="card">
          <div class="meta">
            <div class="icon">üêç</div>
            <div>
              <h3>Python</h3>
              <p class="muted">Data structures, algorithms & small projects.</p>
            </div>
          </div>
          <p class="muted">Short explanations, example code, and quick MCQs to test understanding.</p>
          <a class="visit" href="python.html">Open Notes ‚Üí</a>
        </article>

        <article class="card">
          <div class="meta">
            <div class="icon">üíΩ</div>
            <div>
              <h3>Operating System</h3>
              <p class="muted">Concurrency, memory, file systems.</p>
            </div>
          </div>
          <p class="muted">Concise summaries focused on exam essentials.</p>
          <a class="visit" href="os.html">Open Notes ‚Üí</a>
        </article>

        <article class="card">
          <div class="meta">
            <div class="icon">üì±</div>
            <div>
              <h3>MAD</h3>
              <p class="muted">Mobile app development concepts.</p>
            </div>
          </div>
          <p class="muted">Examples, mini-project ideas and practice questions.</p>
          <a class="visit" href="mad.html">Open Notes ‚Üí</a>
        </article>

        <article class="card">
          <div class="meta">
            <div class="icon">üìä</div>
            <div>
              <h3>AFM</h3>
              <p class="muted">Accounting & finance basics.</p>
            </div>
          </div>
          <p class="muted">Formula sheets and solved examples.</p>
          <a class="visit" href="afm.html">Open Notes ‚Üí</a>
        </article>
      </section>

      <!-- Companion card: quick tools + chat -->
      <section class="companion" aria-labelledby="companion-heading">
        <div class="top">
          <div style="display:flex;gap:12px;align-items:center">
            <div style="width:44px;height:44px;border-radius:10px;background:linear-gradient(90deg,var(--accent),#2563eb);display:grid;place-items:center;font-weight:800">‚ú®</div>
            <div>
              <div id="companion-heading" style="font-weight:800">AI Study Companion</div>
              <div class="muted" style="font-size:13px">Ask questions, upload notes (PDF), or use the quick tools below.</div>
            </div>
          </div>

          <div class="controls">
            <button id="tab-quick" class="nav-item" aria-pressed="true">Quick Tools</button>
            <button id="tab-chat" class="nav-item">Chat</button>
          </div>
        </div>

        <div id="view-quick">
          <div style="margin-top:12px">
            <input id="quick-topic" type="text" placeholder="Enter topic (e.g. Binary search)" class="w-full rounded-xl px-4 py-3 bg-transparent border border-white/6 placeholder:muted text-white" />
          </div>

          <div class="quick-actions">
            <button class="card" onclick="triggerQuickTask('explain')">
              <div style="font-weight:800">Explain</div>
              <div class="muted">Short, bolded key terms and simple examples.</div>
            </button>

            <button class="card" onclick="triggerQuickTask('quiz')">
              <div style="font-weight:800">Quiz Me</div>
              <div class="muted">3 quick MCQs ‚Äî answers after questions.</div>
            </button>

            <button class="card" onclick="triggerQuickTask('plan')">
              <div style="font-weight:800">Study Plan</div>
              <div class="muted">1-week roadmap with daily targets.</div>
            </button>
          </div>

          <div id="quick-result-area" style="display:none;margin-top:12px">
            <div class="card">
              <div id="quick-result-title" style="font-weight:800">Result</div>
              <div id="quick-loading" class="muted" style="display:none">Loading‚Ä¶</div>
              <div id="quick-response" class="muted"></div>
            </div>
          </div>
        </div>

        <div id="view-chat" style="display:none">
          <div class="chat-area">
            <div class="messages" id="chat-history" aria-live="polite">
              <div class="msg ai">Hi ‚Äî I'm your tutor. Upload a PDF or ask anything.</div>
            </div>

            <div style="display:flex;gap:8px;align-items:center">
              <input id="file-upload" type="file" accept=".pdf,.txt,.md" style="display:none" onchange="handleFileUpload(this)" />
              <button onclick="document.getElementById('file-upload').click()" class="nav-item">üìÅ Upload</button>
              <input id="chat-input" type="text" placeholder="Type a question..." class="flex-1 rounded-xl px-4 py-3 bg-transparent border border-white/6 text-white" onkeydown="if(event.key==='Enter') handleChatSend()" />
              <button onclick="handleChatSend()" class="nav-cta px-4 py-2 rounded-xl">Send</button>
            </div>
          </div>
        </div>
      </section>

    </main>

    <footer>
      <div>Get personalised notes and a class chatbot tailored for you.</div>
      <div style="margin-top:8px"><a href="exclusive.html" class="nav-cta px-4 py-2 rounded-xl">Premium Content</a></div>
      <div style="margin-top:12px" class="muted">¬© 2024 Learning Hub</div>
    </footer>
  </div>

  <script>
    // simple tab behavior
    const tQuick = document.getElementById('tab-quick');
    const tChat = document.getElementById('tab-chat');
    const vQuick = document.getElementById('view-quick');
    const vChat = document.getElementById('view-chat');
    tQuick.addEventListener('click', ()=>{tQuick.classList.add('nav-cta');tChat.classList.remove('nav-cta');vQuick.style.display='';vChat.style.display='none'});
    tChat.addEventListener('click', ()=>{tChat.classList.add('nav-cta');tQuick.classList.remove('nav-cta');vChat.style.display='';vQuick.style.display='none'});

    // lightweight utilities from previous version (kept concise)
    function show(el){el.style.display=''}
    function hide(el){el.style.display='none'}

    // quick tools & chat placeholders
    function triggerQuickTask(type){
      const topic = document.getElementById('quick-topic').value.trim();
      if(!topic){alert('Please enter a topic');return}
      const resArea = document.getElementById('quick-result-area');
      document.getElementById('quick-loading').style.display = '';
      resArea.style.display = ''; document.getElementById('quick-response').innerHTML = '';

      // mock response for UI ‚Äî replace with real API call
      setTimeout(()=>{
        document.getElementById('quick-loading').style.display = 'none';
        document.getElementById('quick-response').innerHTML = '<strong>'+ type.toUpperCase() +'</strong>: Sample result for "'+topic+'". Replace with real API call.';
      },700);
    }

    // file -> extract text (pdf.js) then store small window of content
    async function handleFileUpload(input){
      const file = input.files?.[0]; if(!file)return; alert('Processing '+file.name+' ‚Äî this may take a few seconds');
      try{
        if(file.type==='application/pdf'){
          const data = await file.arrayBuffer();
          const pdf = await pdfjsLib.getDocument({data}).promise; let text='';
          for(let p=1;p<=Math.min(pdf.numPages,6);p++){ const page = await pdf.getPage(p); const content = await page.getTextContent(); text += content.items.map(i=>i.str).join(' ')+"\n"; }
          window.currentDoc = text.slice(0,120000);
        } else { window.currentDoc = await file.text(); }
        const h = document.getElementById('chat-history'); h.insertAdjacentHTML('beforeend', '<div class="msg ai">Document uploaded ‚Äî ask about it now.</div>');
      }catch(e){console.error(e);alert('Failed to read file');}
      input.value = '';
    }

    function appendChat(role, text){
      const h = document.getElementById('chat-history');
      const div = document.createElement('div'); div.className = 'msg '+(role==='user'?'user':'ai'); div.textContent = text; h.appendChild(div); h.scrollTop = h.scrollHeight;
    }

    function handleChatSend(){
      const input = document.getElementById('chat-input'); if(!input) return;
      const text = input.value.trim(); if(!text) return; appendChat('user', text); input.value=''; appendChat('ai','Thinking...');
      setTimeout(()=>{ appendChat('ai','Demo answer for: '+text+' (replace with real model call).'); },700);
    }
  </script>
</body>
</html>
